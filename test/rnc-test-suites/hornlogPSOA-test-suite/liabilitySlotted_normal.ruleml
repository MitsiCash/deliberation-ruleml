<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../../relaxng/hornlogPSOA_normal.rnc"?>
<RuleML xmlns="http://ruleml.org/spec" xmlns:this="http://example.org/hornlogPSOA_normal.ruleml"
  xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <act index="1">
    <Assert mapClosure="universal">
      <formula>
        <Atom>
          <oid><Ind>transaction200</Ind></oid>
          <op><Rel>purchase</Rel></op>
          <slot><Ind>buyer</Ind><Ind>John</Ind></slot>
          <slot><Ind>seller</Ind><Ind>Mary</Ind></slot>
          <slot><Ind>item</Ind><Ind>Fido</Ind></slot>
        </Atom>
      </formula>
      <formula>
        <Forall>
          <declare><Var>c</Var></declare>
          <declare><Var>s</Var></declare>
          <declare><Var>i</Var></declare>
          <declare><Var>t</Var></declare>
          <formula>
            <Implies>
              <if>      <!-- ?t#_purchase(_buyer->?c _seller->?s _item->?i) -->
                <Atom>
                  <oid><Var>t</Var></oid>
                  <op><Rel>purchase</Rel></op>
                  <slot><Ind>buyer</Ind><Var>c</Var></slot>
                  <slot><Ind>seller</Ind><Var>s</Var></slot>
                  <slot><Ind>item</Ind><Var>i</Var></slot>
                </Atom>
              </if>     
              <then>    <!-- _liabilityID(?t)#_liability(_citizen->?c _item->?i) -->
                <Atom>
                  <oid>
                    <Expr>
                      <op><Fun>liabilityID</Fun></op>
                      <arg index="1"><Var>t</Var></arg>
                    </Expr>
                  </oid>
                  <op><Rel>liability</Rel></op>
                  <slot><Ind>citizen</Ind><Var>c</Var></slot>
                  <slot><Ind>item</Ind><Var>i</Var></slot>
                </Atom>
              </then>
            </Implies>
          </formula>
        </Forall>
      </formula>
    </Assert>
  </act>
</RuleML>
